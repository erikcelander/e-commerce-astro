import{j as e}from"./jsx-runtime.K1e75nIr.js";import{r as a}from"./index.NEDEFKed.js";import{u as o,c}from"./cart.BFHKmjat.js";const d=({item:s})=>e.jsxs("div",{className:"flex items-center md:gap-8",children:[e.jsx("img",{src:s.image,alt:s.name,width:48,height:48,className:"rounded-lg"}),e.jsxs("div",{className:"flex w-full flex-row items-center justify-between text-center",children:[e.jsx("h1",{className:"text-lg font-semibold sm:text-xl md:text-2xl",children:s.name}),e.jsxs("div",{className:"space-between flex h-full w-fit flex-row",children:[e.jsx("div",{className:"mr-5  flex flex-col items-center",children:e.jsxs("div",{className:"text-md flex items-center",children:[e.jsx("button",{onClick:()=>{o(s.id,s.quantity-1)},className:"mr-2 ",children:"-"}),e.jsx("span",{className:" text-center text-sm",children:s.quantity}),e.jsx("button",{onClick:()=>{o(s.id,s.quantity+1)},className:"ml-2 ",children:"+"})]})}),e.jsx("p",{className:"text-sm leading-6",children:e.jsxs("span",{className:"font-semibold",children:[s.price," ",s.currency]})})]})]})]}),m=({items:s})=>e.jsx("div",{className:"grid gap-4 md:gap-8",children:s.map((i,n)=>e.jsxs("div",{children:[e.jsx(d,{item:i}),n!==s.length-1&&e.jsx("div",{className:"w-full border-t shadow-md dark:border-gray-800"})]}))}),h=()=>{const[s,i]=a.useState(c.get());a.useEffect(()=>{const r=c.subscribe(t=>{i(t)});return()=>{r()}},[]);const n=s.reduce((r,t)=>r+t.quantity,0),l=s.reduce((r,t)=>r+t.price*t.quantity,0);return console.log("ITEMS, ",s),console.log("TOTAL PRICE",l),console.log("TOTAL QUANTITY",n),e.jsx("div",{className:"mx-auto flex max-w-6xl flex-col items-start gap-4 p-4 md:flex-row md:gap-8",children:e.jsx("div",{className:"mt-6 grid w-full gap-4",children:e.jsxs("div",{className:"bg-card text-card-foreground rounded-lg border shadow-sm","data-v0-t":"card",children:[e.jsx("div",{className:"flex flex-col space-y-1.5 p-6 md:flex-row md:items-center md:gap-4",children:e.jsxs("div",{className:"flex w-full flex-row justify-between",children:[e.jsx("h3",{className:"whitespace-nowrap text-2xl font-semibold leading-none tracking-tight",children:"Shopping Cart"}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:["You have ",n," items in your cart"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx(m,{items:s})," "]}),e.jsxs("div",{className:"flex flex-col gap-4 p-6 md:flex-row md:items-center md:justify-between",children:[e.jsx("a",{className:"hover:text-primary/80 duration-250 transition-colors",href:"/products",children:e.jsxs("button",{className:"ring-offset-background focus-visible:ring-ring border-input bg-background hover:bg-accent hover:text-accent-foreground mt-8 inline-flex h-11 items-center justify-center whitespace-nowrap rounded-md border px-6 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-4 w-4",children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),"Continue shopping"]})}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("p",{className:"mb-1 text-lg",children:["Total SEK ",l.toFixed(2)]}),e.jsx("button",{className:"ring-offset-background focus-visible:ring-ring bg-primary text-primary-foreground hover:bg-primary/90 mt-2 inline-flex h-11 items-center justify-center whitespace-nowrap rounded-md px-6 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 md:ml-4 md:mt-0",children:"Proceed to checkout"})]})]})]})})})};export{h as default};
